!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){/*!
 * Mappersmith __VERSION__
 * https://github.com/tulios/mappersmith
 */
"use strict";module.exports={Env:require("./src/env"),Utils:require("./src/utils"),Gateway:require("./src/gateway"),Mapper:require("./src/mapper"),VanillaGateway:require("./src/gateway/vanilla-gateway"),JQueryGateway:require("./src/gateway/jquery-gateway"),forge:require("./src/forge"),createGateway:require("./src/create-gateway")}},{"./src/create-gateway":3,"./src/env":4,"./src/forge":5,"./src/gateway":6,"./src/gateway/jquery-gateway":7,"./src/gateway/vanilla-gateway":9,"./src/mapper":10,"./src/utils":11}],2:[function(require,module){"use strict";var mainModule=require("./");module.exports=mainModule.Utils.extend(mainModule,{node:{NodeVanillaGateway:require("./src/gateway/node-vanilla-gateway")}})},{"./":1,"./src/gateway/node-vanilla-gateway":8}],3:[function(require,module){"use strict";var Utils=require("./utils"),Gateway=require("./gateway");module.exports=function(methods){var newGateway=function(){return this.init&&this.init(),Gateway.apply(this,arguments)};return newGateway.prototype=Utils.extend({},Gateway.prototype,methods),newGateway}},{"./gateway":6,"./utils":11}],4:[function(require,module){"use strict";module.exports={USE_PROMISES:!1}},{}],5:[function(require,module){"use strict";var Mapper=require("./mapper"),VanillaGateway=require("./gateway/vanilla-gateway");module.exports=function(manifest,gateway,bodyAttr){return new Mapper(manifest,gateway||VanillaGateway,bodyAttr||"body").build()}},{"./gateway/vanilla-gateway":9,"./mapper":10}],6:[function(require,module){"use strict";var Utils=require("./utils"),Gateway=function(args){this.url=args.url,this.host=args.host,this.path=args.path,this.params=args.params||{},this.method=args.method,this.body=args.body,this.processor=args.processor,this.opts=args.opts||{},this.timeStart=null,this.timeEnd=null,this.timeElapsed=null,this.successCallback=Utils.noop,this.failCallback=Utils.noop,this.completeCallback=Utils.noop};Gateway.prototype={call:function(){return this.timeStart=Utils.performanceNow(),this[this.method].apply(this,arguments),this},promisify:function(thenCallback){var promise=new Promise(function(resolve,reject){this.success(function(data,stats){resolve({data:data,stats:stats})}),this.fail(function(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var request=args.shift();reject({request:request,err:args})}),this.call()}.bind(this));return void 0!==thenCallback?promise.then(thenCallback):promise},success:function(callback){return this.successCallback=function(data,extraStats){this.timeEnd=Utils.performanceNow(),this.timeElapsed=this.timeEnd-this.timeStart,this.processor&&(data=this.processor(data));var requestedResource=this.getRequestedResource(),stats=Utils.extend({timeElapsed:this.timeElapsed,timeElapsedHumanized:Utils.humanizeTimeElapsed(this.timeElapsed)},requestedResource,extraStats);callback(data,stats)}.bind(this),this},fail:function(callback){return this.failCallback=function(){for(var args=[this.getRequestedResource()],i=0;i<arguments.length;i++)args.push(arguments[i]);callback.apply(this,args)}.bind(this),this},complete:function(callback){return this.completeCallback=callback,this},getRequestedResource:function(){return{url:this.url,host:this.host,path:this.path,params:this.params}},shouldEmulateHTTP:function(method){return!(!this.opts.emulateHTTP||!/^(delete|put|patch)/i.test(method))},get:function(){throw new Utils.Exception("Gateway#get not implemented")},post:function(){throw new Utils.Exception("Gateway#post not implemented")},put:function(){throw new Utils.Exception("Gateway#put not implemented")},delete:function(){throw new Utils.Exception("Gateway#delete not implemented")},patch:function(){throw new Utils.Exception("Gateway#patch not implemented")}},module.exports=Gateway},{"./utils":11}],7:[function(require,module){"use strict";var Utils=require("../utils"),CreateGateway=require("../create-gateway"),JQueryGateway=CreateGateway({init:function(){if(void 0===window.jQuery)throw new Utils.Exception("JQueryGateway requires jQuery but it was not found! Change the gateway implementation or add jQuery on the page")},get:function(){return this._jQueryAjax(this.opts),this},post:function(){return this._performRequest("POST")},put:function(){return this._performRequest("PUT")},patch:function(){return this._performRequest("PATCH")},delete:function(){return this._performRequest("DELETE")},_performRequest:function(method){var requestMethod=method;this.shouldEmulateHTTP(method)&&(requestMethod="POST",this.body=this.body||{},"object"==typeof this.body&&(this.body._method=method),this.opts.headers=Utils.extend({"X-HTTP-Method-Override":method},this.opts.headers));var defaults={type:requestMethod,data:Utils.params(this.body)};return this._jQueryAjax(Utils.extend(defaults,this.opts)),this},_jQueryAjax:function(config){jQuery.ajax(Utils.extend({url:this.url},config)).done(function(){this.successCallback(arguments[0])}.bind(this)).fail(function(){this.failCallback.apply(this,arguments)}.bind(this)).always(function(){this.completeCallback.apply(this,arguments)}.bind(this))}});module.exports=JQueryGateway},{"../create-gateway":3,"../utils":11}],8:[function(require,module){"use strict";var Utils=require("../utils"),CreateGateway=require("../create-gateway"),url=require("url"),http=require("http"),https=require("https"),NodeVanillaGateway=CreateGateway({performRequest:function(method){var defaults=url.parse(this.url),emulateHTTP=this.shouldEmulateHTTP(method),requestMethod=emulateHTTP?"post":method,opts=Utils.extend({method:requestMethod},defaults,this.opts),canIncludeBody=!/get/i.test(method);emulateHTTP&&(this.body=this.body||{},"object"==typeof this.body&&(this.body._method=method),opts.headers=Utils.extend({},{"X-HTTP-Method-Override":method},opts.headers));var body=this.body?Utils.params(this.body):"";if(canIncludeBody&&(opts.headers=Utils.extend({},{"Content-Type":"application/x-www-form-urlencoded","Content-Length":body.length},opts.headers)),"https:"===defaults.protocol)var handler=https;else handler=http;var request=handler.request(opts,this.onResponse.bind(this));request.on("error",this.onError.bind(this)),body&&request.write(body),request.end()},onResponse:function(response){var data="";response.setEncoding("utf8"),response.on("data",function(chunk){data+=chunk}),response.on("end",function(){try{response.statusCode>=200&&response.statusCode<400?(this.isContentTypeJSON(response)&&(data=JSON.parse(data)),this.successCallback(data)):this.failCallback(response)}catch(e){this.failCallback(response,e)}finally{this.completeCallback(data,response)}}.bind(this))},onError:function(){this.failCallback.apply(this,arguments),this.completeCallback.apply(this,arguments)},isContentTypeJSON:function(response){return/application\/json/.test(response.headers["content-type"])},get:function(){this.performRequest("GET")},post:function(){this.performRequest("POST")},put:function(){this.performRequest("PUT")},delete:function(){this.performRequest("DELETE")},patch:function(){this.performRequest("PATCH")}});module.exports=NodeVanillaGateway},{"../create-gateway":3,"../utils":11,http:void 0,https:void 0,url:void 0}],9:[function(require,module){"use strict";var Utils=require("../utils"),CreateGateway=require("../create-gateway"),VanillaGateway=CreateGateway({get:function(){var request=new XMLHttpRequest;this._configureCallbacks(request),request.open("GET",this.url,!0),request.send()},post:function(){this._performRequest("POST")},put:function(){this._performRequest("PUT")},patch:function(){this._performRequest("PATCH")},delete:function(){this._performRequest("DELETE")},_performRequest:function(method){var emulateHTTP=this.shouldEmulateHTTP(method),requestMethod=method,request=new XMLHttpRequest;this._configureCallbacks(request),emulateHTTP&&(this.body=this.body||{},"object"==typeof this.body&&(this.body._method=method),requestMethod="POST"),request.open(requestMethod,this.url,!0),emulateHTTP&&request.setRequestHeader("X-HTTP-Method-Override",method),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var args=[];void 0!==this.body&&args.push(Utils.params(this.body)),request.send.apply(request,args)},_configureCallbacks:function(request){request.onload=function(){var data=null;try{request.status>=200&&request.status<400?(data=this._isContentTypeJSON(request)?JSON.parse(request.responseText):request.responseText,this.successCallback(data)):this.failCallback(request)}catch(e){this.failCallback(request)}finally{this.completeCallback(data,request)}}.bind(this),request.onerror=function(){this.failCallback.apply(this,arguments),this.completeCallback.apply(this,arguments)}.bind(this),this.opts.configure&&this.opts.configure(request)},_isContentTypeJSON:function(request){return/application\/json/.test(request.getResponseHeader("Content-Type"))}});module.exports=VanillaGateway},{"../create-gateway":3,"../utils":11}],10:[function(require,module){"use strict";var Utils=require("./utils"),Env=require("./env"),Mapper=function(manifest,Gateway,bodyAttr){this.manifest=manifest,this.rules=this.manifest.rules||[],this.Gateway=Gateway,this.bodyAttr=bodyAttr};Mapper.prototype={build:function(){return Object.keys(this.manifest.resources||{}).map(function(name){return this.buildResource(name)}.bind(this)).reduce(function(context,resource){return context[resource.name]=resource.methods,context},{})},buildResource:function(resourceName){var methods=this.manifest.resources[resourceName];return Object.keys(methods).reduce(function(context,methodName){var descriptor=methods[methodName];if("string"==typeof descriptor){var compactDefinitionMethod=descriptor.match(/^(get|post|delete|put|patch):(.*)/);descriptor=null!=compactDefinitionMethod?{method:compactDefinitionMethod[1],path:compactDefinitionMethod[2]}:{method:"get",path:descriptor}}return descriptor.method=(descriptor.method||"get").toLowerCase(),context.methods[methodName]=this.newGatewayRequest(descriptor),context}.bind(this),{name:resourceName,methods:{}})},resolvePath:function(pathDefinition,urlParams){var params=Utils.extend({},urlParams),resolvedPath=pathDefinition;delete params[this.bodyAttr],Object.keys(params).forEach(function(key){var value=params[key],pattern="{"+key+"}";new RegExp(pattern).test(resolvedPath)&&(resolvedPath=resolvedPath.replace("{"+key+"}",value),delete params[key])});var paramsString=Utils.params(params);return 0!==paramsString.length&&(paramsString="?"+paramsString),resolvedPath+paramsString},resolveHost:function(value){return("undefined"==typeof value||null===value)&&(value=this.manifest.host),value===!1&&(value=""),value.replace(/\/$/,"")},newGatewayRequest:function(descriptor){var rules=this.rules.filter(function(rule){return void 0===rule.match||rule.match.test(descriptor.path)}).reduce(function(context,rule){var mergedGateway=Utils.extend(context.gateway,rule.values.gateway);return context=Utils.extend(context,rule.values),context.gateway=mergedGateway,context},{});return function(params,callback,opts){"function"==typeof params&&(opts=callback,callback=params,params=void 0),descriptor.params&&(params=Utils.extend({},descriptor.params,params)),opts=Utils.extend({},opts,rules.gateway),Utils.isObjEmpty(opts)&&(opts=void 0);var host=this.resolveHost(descriptor.host),path=this.resolvePath(descriptor.path,params);""!==host&&(path=/^\//.test(path)?path:"/"+path);var fullUrl=host+path,body=(params||{})[this.bodyAttr],gatewayOpts=Utils.extend({},{url:fullUrl,host:host,path:path,params:params,body:body,method:descriptor.method,processor:descriptor.processor||rules.processor,opts:opts}),gateway=new this.Gateway(gatewayOpts);return Env.USE_PROMISES?gateway.promisify(callback):gateway.success(callback).call()}.bind(this)}},module.exports=Mapper},{"./env":4,"./utils":11}],11:[function(require,module,exports){"use strict";"undefined"!=typeof window&&null!==window&&(window.performance=window.performance||{},performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}());var _process;try{_process=eval("process")}catch(e){}var hasProcessHrtime=function(){return"undefined"!=typeof _process&&null!==_process&&_process.hrtime},getNanoSeconds,loadTime;hasProcessHrtime()&&(getNanoSeconds=function(){var hr=_process.hrtime();return 1e9*hr[0]+hr[1]},loadTime=getNanoSeconds());var Utils={r20:/%20/g,noop:function(){},isObjEmpty:function(obj){for(var key in obj)if(obj.hasOwnProperty(key))return!1;return!0},extend:function(out){out=out||{};for(var i=1;i<arguments.length;i++)if(arguments[i])for(var key in arguments[i])arguments[i].hasOwnProperty(key)&&void 0!==arguments[i][key]&&(out[key]=arguments[i][key]);return out},params:function(entry){if("object"!=typeof entry)return entry;var validKeys=function(entry){return Object.keys(entry).filter(function(key){return void 0!==entry[key]&&null!==entry[key]})},buildRecursive=function buildRecursive(key,value,suffix){suffix=suffix||"";var isArray=Array.isArray(value),isObject="object"==typeof value;return isArray||isObject?isArray?value.map(function(v){return buildRecursive(key,v,suffix+"[]")}).join("&"):validKeys(value).map(function(k){return buildRecursive(key,value[k],suffix+"["+k+"]")}).join("&"):encodeURIComponent(key+suffix)+"="+encodeURIComponent(value)};return validKeys(entry).map(function(key){return buildRecursive(key,entry[key])}).join("&").replace(Utils.r20,"+")},performanceNow:function(){return hasProcessHrtime()?(getNanoSeconds()-loadTime)/1e6:performance.now()},humanizeTimeElapsed:function(timeElapsed){return timeElapsed>=1e3?(timeElapsed/1e3).toFixed(2)+" s":timeElapsed.toFixed(2)+" ms"},Exception:function(message){this.message=message,this.toString=function(){return"[Mappersmith] "+this.message}}};module.exports=Utils},{}],12:[function(require,module,exports){!function(){function InvalidCharacterError(message){this.message=message}var object="undefined"!=typeof exports?exports:this,chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";InvalidCharacterError.prototype=new Error,InvalidCharacterError.prototype.name="InvalidCharacterError",object.btoa||(object.btoa=function(input){for(var block,charCode,str=String(input),idx=0,map=chars,output="";str.charAt(0|idx)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){if(charCode=str.charCodeAt(idx+=.75),charCode>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");block=block<<8|charCode}return output}),object.atob||(object.atob=function(input){var str=String(input).replace(/=+$/,"");if(str.length%4==1)throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");for(var bs,buffer,bc=0,idx=0,output="";buffer=str.charAt(idx++);~buffer&&(bs=bc%4?64*bs+buffer:buffer,bc++%4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0)buffer=chars.indexOf(buffer);return output})}()},{}],13:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Mapper=require("./Mapper"),_Folder=require("./Folder"),_Folder2=_interopRequireDefault(_Folder),_Feed=require("./Feed"),_Status=(_interopRequireDefault(_Feed),require("./Status")),_Status2=_interopRequireDefault(_Status),_ResultParser=require("./ResultParser"),Client=function(){function Client(){_classCallCheck(this,Client),this.client=_Mapper.getClient("http://localhost/owncloud","test","test")}return _createClass(Client,[{key:"listFolders",value:function(){var result;return regeneratorRuntime.async(function(context$2$0){for(var _this=this;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Folder.all());case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.folders.map(function(folder){return new _Folder2.default(folder.id,folder.name,_this.client)}));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"newFolder",value:function(name){var result,folder;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Folder.newFolder({name:name}));case 2:return result=context$2$0.sent,folder=result.data.folders[0],context$2$0.abrupt("return",new _Folder2.default(folder.id,folder.name,this.client));case 5:case"end":return context$2$0.stop()}},null,this)}},{key:"listFeeds",value:function(){var result;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Feed.all());case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.feeds.map(_ResultParser.feedFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"newFeed",value:function(url){var result,folderId=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Feed.newFeed({url:url,folderId:folderId}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",_ResultParser.feedFromResult(this.client,result.data.feeds[0]));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getVersion",value:function(){var result;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Status.version());case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.version);case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getStatus",value:function(){var result;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Status.get());case 2:return result=context$2$0.sent,context$2$0.abrupt("return",new _Status2.default(result.data.version,result.data.warnings));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getItems",value:function(){var result,size=arguments.length<=0||void 0===arguments[0]?20:arguments[0],offset=arguments.length<=1||void 0===arguments[1]?null:arguments[1],getRead=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],oldestFirst=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({size:size,offset:offset,getRead:getRead,oldestFirst:oldestFirst,type:3,id:0}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getStarredItems",value:function(){var result,size=arguments.length<=0||void 0===arguments[0]?20:arguments[0],offset=arguments.length<=1||void 0===arguments[1]?null:arguments[1],getRead=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],oldestFirst=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({size:size,offset:offset,getRead:getRead,oldestFirst:oldestFirst,type:2,id:0}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getNewItems",value:function(lastModified){var result;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({lastModified:lastModified,type:3,id:0}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}}]),Client}();exports.default=Client,module.exports=exports.default},{"./Feed":14,"./Folder":15,"./Mapper":17,"./ResultParser":18,"./Status":19}],14:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ResultParser=require("./ResultParser"),Feed=function(){function Feed(id,url,title,faviconLink,added,folderId,unreadCount,ordering,link,pinned,client){_classCallCheck(this,Feed),this.id=id,this.url=url,this.title=title,this.faviconLink=faviconLink,this.added=added,this.folderId=folderId,this.unreadCount=unreadCount,this.ordering=ordering,this.link=link,this.pinned=pinned,this.client=client}return _createClass(Feed,[{key:"move",value:function(folderId){return this.folderId=folderId,this.client.Feed.move({id:this.id,folderId:folderId})}},{key:"rename",value:function(newTitle){return this.title=newTitle,this.client.Feed.rename({id:this.id,feedTitle:newTitle})}},{key:"markAsRead",value:function(newestItemId){return this.client.Feed.markAsRead({id:this.id,newestItemId:newestItemId})}},{key:"delete",value:function(){return this.client.Feed.delete({id:this.id})}},{key:"getItems",value:function(){var result,size=arguments.length<=0||void 0===arguments[0]?20:arguments[0],offset=arguments.length<=1||void 0===arguments[1]?null:arguments[1],getRead=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],oldestFirst=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({size:size,offset:offset,getRead:getRead,oldestFirst:oldestFirst,type:0,id:this.id}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getNewItems",value:function(lastModified){var result;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({lastModified:lastModified,type:0,id:this.id}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}}]),Feed}();exports.default=Feed,module.exports=exports.default},{"./ResultParser":18}],15:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_ResultParser=require("./ResultParser"),Folder=function(){function Folder(id,name,client){_classCallCheck(this,Folder),this.id=id,this.name=name,this.client=client}return _createClass(Folder,[{key:"rename",value:function(newName){return this.name=newName,this.client.Folder.rename({id:this.id,name:newName})}},{key:"markAsRead",value:function(newestItemId){return this.client.Folder.markAsRead({id:this.id,newestItemId:newestItemId})}},{key:"delete",value:function(){return this.client.Folder.delete({id:this.id})}},{key:"listFeeds",value:function(){var result,feeds;return regeneratorRuntime.async(function(context$2$0){for(var _this=this;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Feed.all());case 2:return result=context$2$0.sent,feeds=result.data.feeds.map(_ResultParser.feedFromResult.bind(this,this.client)),context$2$0.abrupt("return",feeds.filter(function(feed){return feed.folderId===_this.id}));case 5:case"end":return context$2$0.stop()}},null,this)}},{key:"getItems",value:function(){var result,size=arguments.length<=0||void 0===arguments[0]?20:arguments[0],offset=arguments.length<=1||void 0===arguments[1]?null:arguments[1],getRead=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],oldestFirst=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({size:size,offset:offset,getRead:getRead,oldestFirst:oldestFirst,type:1,id:this.id}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}},{key:"getNewItems",value:function(lastModified){var result;return regeneratorRuntime.async(function(context$2$0){for(;;)switch(context$2$0.prev=context$2$0.next){case 0:return context$2$0.next=2,regeneratorRuntime.awrap(this.client.Item.list({lastModified:lastModified,type:1,id:this.id}));case 2:return result=context$2$0.sent,context$2$0.abrupt("return",result.data.items.map(_ResultParser.itemFromResult.bind(this,this.client)));case 4:case"end":return context$2$0.stop()}},null,this)}}]),Folder}();exports.default=Folder,module.exports=exports.default},{"./ResultParser":18}],16:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Item=function(){function Item(id,guid,guidHash,url,title,author,pubDate,body,enclosureMime,enclosureLink,feedId,unread,starred,lastModified,client){_classCallCheck(this,Item),this.id=id,this.guid=guid,this.guidHash=guidHash,this.url=url,this.title=title,this.author=author,this.pubDate=pubDate,this.body=body,this.enclosureMime=enclosureMime,this.enclosureLink=enclosureLink,this.feedId=feedId,this.unread=unread,this.starred=starred,this.lastModified=lastModified,this.client=client}return _createClass(Item,[{key:"markAsRead",value:function(){return this.unread=!1,this.client.Item.markAsRead({id:this.id})}},{key:"markAsUnread",value:function(){return this.unread=!0,this.client.Item.markAsUnread({id:this.id})}},{key:"markAsStarred",value:function(){return this.starred=!0,this.client.Item.markAsStarred({feedId:this.feedId,guidHash:this.guidHash})}},{key:"markAsUnstarred",value:function(){return this.starred=!0,this.client.Item.markAsUnstarred({feedId:this.feedId,guidHash:this.guidHash})}}]),Item}();exports.default=Item,module.exports=exports.default},{}],17:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getClient(base,user,password){var manifest={host:base+"/index.php/apps/news/api/v1-2/",resources:resources,rules:[{values:{gateway:{headers:{Authorization:"Basic "+_Base64.btoa(user+":"+password)}}}}]},gateway="undefined"!=typeof document?_mappersmithNode2.default.VanillaGateway:_mappersmithNode2.default.node.NodeVanillaGateway;return _mappersmithNode2.default.forge(manifest,gateway)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getClient=getClient;var _mappersmithNode=require("mappersmith/node"),_mappersmithNode2=_interopRequireDefault(_mappersmithNode),_Base64=require("Base64");_mappersmithNode2.default.Env.USE_PROMISES=!0;var resources=require("./resources.json")},{"./resources.json":20,Base64:12,"mappersmith/node":2}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function feedFromResult(client,feed){return new _Feed2.default(feed.id,feed.url,feed.title,feed.faviconLink,feed.added,feed.folderId,feed.unreadCount,feed.ordering,feed.link,feed.pinned,client)}function itemFromResult(client,item){return new _Item2.default(item.id,item.guid,item.guidHash,item.url,item.title,item.author,item.pubDate,item.body,item.enclosureMime,item.enclosureLink,item.feedId,item.unread,item.starred,item.lastModifed,client)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.feedFromResult=feedFromResult,exports.itemFromResult=itemFromResult;var _Feed=require("./Feed"),_Feed2=_interopRequireDefault(_Feed),_Item=require("./Item"),_Item2=_interopRequireDefault(_Item)},{"./Feed":14,"./Item":16}],19:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var Status=function Status(version,warnings){_classCallCheck(this,Status),this.version=version,this.improperlyConfiguredCron=warnings.improperlyConfiguredCron};exports.default=Status,module.exports=exports.default},{}],20:[function(require,module){module.exports={Folder:{all:{path:"/folders"},byId:{path:"/folders/{id}"},rename:{method:"PUT",path:"/folders/{id}"},markAsRead:{method:"PUT",path:"/folders/{id}/read"},delete:{method:"DELETE",path:"/folders/{id}"},newFolder:{method:"POST",path:"/folders"}},Feed:{all:{path:"/feeds"},newFeed:{method:"POST",path:"/feeds"},delete:{method:"DELETE",path:"/feeds/{id}"},move:{method:"PUT",path:"/feeds/{id}/move"},rename:{method:"PUT",path:"/feeds/{id}/rename"},markAsRead:{method:"PUT",path:"/feeds/{id}/read"}},Status:{version:{path:"/version"},get:{path:"/status"}},Item:{list:{path:"/items"},updated:{path:"/items/updated"},markAsRead:{method:"PUT",path:"/items/{id}/read"},markAsUnread:{method:"PUT",path:"/items/{id}/unread"},markMultipleAsRead:{method:"PUT",path:"/items/read/multiple"
},markMultipleAsUnread:{method:"PUT",path:"/items/unread/multiple"},markAsStarred:{method:"PUT",path:"/items/{feedId}/{guidHash}/star"},markAsUnstarred:{method:"PUT",path:"/items/{feedId}/{guidHash}/unstar"},markMultipleAsStarred:{method:"PUT",path:"/items/star/multiple"},markMultipleAsUnstarred:{method:"PUT",path:"/items/unstar/multiple"},markAllAsRead:{method:"PUT",path:"/items/read"}}}},{}]},{},[13]);